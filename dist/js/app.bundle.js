!function(){const e={currentPage:"dashboard",user:null,resources:[],jobs:[],posts:[],language:"en"},t={menuToggle:document.querySelector(".menu-toggle"),bottomNav:document.querySelector(".bottom-nav"),mainContent:document.querySelector(".main-content"),resourceSearch:document.getElementById("resource-search"),jobCategory:document.getElementById("job-category"),postsFeed:document.getElementById("posts-feed"),createPostBtn:document.querySelector(".create-post-btn")};function n(t){e.currentPage=t,document.querySelectorAll(".nav-item").forEach((t=>{t.classList.toggle("active",t.dataset.page===e.currentPage)})),loadPageContent(t)}async function o(e){const t=e.target.value.trim();if(!(t.length<2))try{const e=await searchResources(t);displayResourceResults(e)}catch(e){console.error("Error searching resources:",e),c("Failed to search resources. Please try again.")}}function a(e){const t=e.target.value;r(filterJobs(t))}function s(){const e=document.createElement("div");e.className="modal",e.innerHTML='\n        <div class="modal-content">\n            <h2>Create Post</h2>\n            <form id="create-post-form">\n                <textarea placeholder="What\'s on your mind?" required></textarea>\n                <div class="modal-actions">\n                    <button type="button" class="cancel-btn">Cancel</button>\n                    <button type="submit" class="submit-btn">Post</button>\n                </div>\n            </form>\n        </div>\n    ',document.body.appendChild(e),setupPostModalListeners(e)}function c(e){const t=document.createElement("div");t.className="notification error",t.textContent=e,document.body.appendChild(t),setTimeout((()=>t.remove()),3e3)}function r(e){const t=document.getElementById("job-results");t&&(t.innerHTML=e.map((e=>`\n        <div class="job-card">\n            <h3>${e.title}</h3>\n            <div class="job-details">\n                <span>${e.company}</span>\n                <span>${e.location}</span>\n                <span>${e.type}</span>\n            </div>\n            <p>${e.description}</p>\n            <div class="job-tags">\n                ${e.skills.map((e=>`<span class="job-tag">${e}</span>`)).join("")}\n            </div>\n        </div>\n    `)).join(""))}document.addEventListener("DOMContentLoaded",(()=>{!function(){const t=localStorage.getItem("language");t&&(e.language=t),async function(){try{const t=await fetch("/api/resources"),n=await t.json();e.resources=n,document.getElementById("resource-finder")}catch(e){console.error("Error loading resources:",e),c("Failed to load resources. Please try again.")}}(),async function(){try{const t=await fetch("/api/jobs"),n=await t.json();e.jobs=n,r(n)}catch(e){console.error("Error loading jobs:",e),c("Failed to load jobs. Please try again.")}}(),async function(){try{const t=await fetch("/api/posts"),n=await t.json();e.posts=n,function(e){const t=document.getElementById("posts-feed");t&&(t.innerHTML=e.map((e=>`\n        <div class="post-card">\n            <div class="post-header">\n                <div class="post-avatar">${e.author[0]}</div>\n                <div>\n                    <h3>${e.author}</h3>\n                    <span>${new Date(e.date).toLocaleDateString()}</span>\n                </div>\n            </div>\n            <div class="post-content">${e.content}</div>\n            <div class="post-actions">\n                <span class="post-action">üëç ${e.likes}</span>\n                <span class="post-action">üí¨ ${e.comments}</span>\n                <span class="post-action">üîÑ Share</span>\n            </div>\n        </div>\n    `)).join(""))}(n)}catch(e){console.error("Error loading posts:",e),c("Failed to load posts. Please try again.")}}()}(),t.menuToggle?.addEventListener("click",toggleMenu),t.bottomNav?.addEventListener("click",(e=>{const t=e.target.closest(".nav-item");t&&n(t.dataset.page)})),t.resourceSearch?.addEventListener("input",function(e){let t;return function(...n){clearTimeout(t),t=setTimeout((()=>{clearTimeout(t),e(...n)}),300)}}(o)),t.jobCategory?.addEventListener("change",a),t.createPostBtn?.addEventListener("click",s)})),window.app={state:e,navigateTo:n,showError:c,showSuccess:function(e){const t=document.createElement("div");t.className="notification success",t.textContent=e,document.body.appendChild(t),setTimeout((()=>t.remove()),3e3)}}}();